<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>{% block title %}{% endblock %}</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">


    <!-- HEADER -->
    {% block header %}{% endblock %}
</head>
<body>
<div class="toast-container top-0 end-0 p-3">
{% if flash_messages %} 
    {% for message in flash_messages %}  
        <div class="toast border-0 {{ message.type }}" role="alert" aria-live="assertive" aria-atomic="true" {% if message.autohide %}data-bs-autohide="true"{% else %}data-bs-autohide="false"{% endif %}>
            {% if message.title or message.smallTitle %} 
                <div class="toast-header">     
                    <strong class="me-auto">{{ message.title }}</strong>
                    {% if message.smallTitle %} 
                        <small class="text-body-secondary">{{ message.smallTitle }}</small>
                    {% endif %} 
                    <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
                </div>
            {% endif %} 
            <div class="d-flex">
                <div class="toast-body">
                    {{ message.message | raw }}
                </div>
                {% if not message.title and not message.smallTitle %} 
                    <button type="button" class="btn-close me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
                {% endif %} 
            </div>
        </div>
    {% endfor %} 
{% endif %} 
</div>

<!-- START HERE -->
{% block body %}
{% endblock %}


</body>
<!-- FOOTER -->
{% block footer %}
{% endblock %}

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
<script>
    var toastElList = [].slice.call(document.querySelectorAll('.toast'))
    var toastList = toastElList.map(function(toastEl) {
        return new bootstrap.Toast(toastEl)
    });
    toastList.forEach(toast => toast.show());

</script>

{% if errors %}
    <script>
        let error = JSON.parse('{{ errors|e('js') }}');
        for(let err of error) {
            let item = document.getElementById('err-' + err.name)
            if (item) {
                item.innerHTML = err.text;
                item.style.display = 'block';
            }

        }
    </script>
{% endif %}


{# YOUR SCRIPTS #}
{% block script %}
{% endblock %}


</html>